import{_ as h,C as D,A as k,c as v,w as u,r as f,k as m,o as l,a as t,b as r,f as d,F as C,j as w,t as a,n as p}from"./index-B6tcRC6e.js";const A={name:"Devices",components:{AppLayout:k,CardComponent:D},data(){return{devices:[],loading:!0}},mounted(){this.fetchDevices()},methods:{fetchDevices(){this.loading=!0,m.getAll().then(e=>{this.devices=e.data,this.loading=!1}).catch(e=>{console.error("Error fetching devices:",e),this.loading=!1})},navigateTo(e){this.$router.push(e)},editDevice(e){this.$router.push(`/devices/${e.id}/edit`)},confirmDelete(e){confirm(`Are you sure you want to delete device ${e.name||e.device_id}?`)&&m.delete(e.id).then(()=>{this.devices=this.devices.filter(s=>s.id!==e.id)}).catch(s=>{console.error("Error deleting device:",s)})},formatDate(e){if(!e)return null;const s=new Date(e),c=new Date-s,n=Math.floor(c/6e4);if(n<1)return"Just now";if(n<60)return`${n} minute${n===1?"":"s"} ago`;const o=Math.floor(n/60);return o<24?`${o} hour${o===1?"":"s"} ago`:s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}}},x={class:"page-header"},$={key:0,class:"text-center my-5"},N={key:1,class:"empty-state"},L={key:2},T={class:"devices-grid"},B={class:"device-card-content"},M={class:"device-info"},E={class:"info-item"},F={class:"info-value"},I={class:"info-item"},S={class:"info-value"},P={class:"info-item"},V={class:"info-item"},j={class:"info-value"},z={class:"info-item"},H={class:"info-value"},J={class:"info-item"},U={class:"info-value"},Y={class:"device-actions"},q=["onClick"],G=["onClick"];function K(e,s,b,c,n,o){const _=f("card-component"),g=f("app-layout");return l(),v(g,null,{default:u(()=>[t("div",x,[s[3]||(s[3]=t("h1",{class:"page-title"},"My Devices",-1)),t("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=i=>o.navigateTo("/devices/new"))},s[2]||(s[2]=[t("i",{class:"bi bi-plus-lg"},null,-1),d(" Add New Device ")]))]),n.loading?(l(),r("div",$,s[4]||(s[4]=[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),t("p",{class:"mt-2"},"Loading your devices...",-1)]))):n.devices.length===0?(l(),r("div",N,[s[6]||(s[6]=t("div",{class:"empty-icon"},[t("i",{class:"bi bi-cpu"})],-1)),s[7]||(s[7]=t("h3",null,"No Devices Found",-1)),s[8]||(s[8]=t("p",null,"You haven't added any tracking devices yet. Add your first device to start tracking your pets.",-1)),t("button",{class:"btn btn-primary",onClick:s[1]||(s[1]=i=>o.navigateTo("/devices/new"))},s[5]||(s[5]=[t("i",{class:"bi bi-plus-lg"},null,-1),d(" Add First Device ")]))])):(l(),r("div",L,[t("div",T,[(l(!0),r(C,null,w(n.devices,i=>(l(),v(_,{key:i.id,title:i.name||i.device_id,icon:"bi bi-cpu"},{default:u(()=>[t("div",B,[t("div",M,[t("div",E,[s[9]||(s[9]=t("div",{class:"info-label"},"Device ID",-1)),t("div",F,a(i.device_id),1)]),t("div",I,[s[10]||(s[10]=t("div",{class:"info-label"},"Type",-1)),t("div",S,a(i.device_type||"Not specified"),1)]),t("div",P,[s[11]||(s[11]=t("div",{class:"info-label"},"Status",-1)),t("div",{class:p(["info-value status",i.is_active?"active":"inactive"])},[t("i",{class:p(["bi",i.is_active?"bi-check-circle":"bi-x-circle"])},null,2),d(" "+a(i.is_active?"Active":"Inactive"),1)],2)]),t("div",V,[s[12]||(s[12]=t("div",{class:"info-label"},"Battery",-1)),t("div",j,a(i.battery_level)+"%",1)]),t("div",z,[s[13]||(s[13]=t("div",{class:"info-label"},"Last Ping",-1)),t("div",H,a(o.formatDate(i.last_ping)||"Never"),1)]),t("div",J,[s[14]||(s[14]=t("div",{class:"info-label"},"Assigned To",-1)),t("div",U,a(i.pet?i.pet.name:"Not assigned"),1)])]),t("div",Y,[t("button",{class:"btn btn-sm btn-outline-primary me-2",onClick:y=>o.editDevice(i)},s[15]||(s[15]=[t("i",{class:"bi bi-pencil"},null,-1),d(" Edit ")]),8,q),t("button",{class:"btn btn-sm btn-outline-danger",onClick:y=>o.confirmDelete(i)},s[16]||(s[16]=[t("i",{class:"bi bi-trash"},null,-1),d(" Delete ")]),8,G)])])]),_:2},1032,["title"]))),128))])]))]),_:1})}const Q=h(A,[["render",K],["__scopeId","data-v-1ed180b9"]]);export{Q as default};
