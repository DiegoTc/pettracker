import{_ as u,f as t,a as e,i as l,g as i,t as h,h as p,w as m,r as f,m as v,o as s}from"./index-PzTaAiWw.js";const y={data(){return{isDevEnvironment:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",loading:!1,error:null,googleConfigured:!0,apiBaseUrl:"http://localhost:5000"}},async created(){const o=new URLSearchParams(window.location.search).get("error");o&&(this.error=decodeURIComponent(o));try{console.log("Making API request to get login info");const n=await v.getLoginInfo();this.googleConfigured=n.data.googleConfigured,this.googleConfigured?console.log("Google OAuth is properly configured"):this.error="Google authentication is not configured. Please contact the administrator."}catch(n){console.error("Failed to check Google OAuth configuration:",n),this.googleConfigured=!0}},methods:{async loginWithGoogle(){if(!this.googleConfigured){this.error="Google authentication is not configured. Please contact the administrator.";return}this.loading=!0,this.error=null,console.log(`Using API base URL for login: ${this.apiBaseUrl}`),window.location.href=`${this.apiBaseUrl}/api/auth/login`}}},_={class:"container py-5"},w={class:"row justify-content-center"},b={class:"col-md-6"},k={class:"card shadow"},x={class:"card-body p-4"},C={key:0,class:"text-center my-4"},G={key:1},P={key:0,class:"d-grid gap-2"},L={key:1,class:"alert alert-danger mt-3",role:"alert"},U={key:0,class:"card mt-4 shadow-sm"},B={class:"card-body"},I={class:"d-grid gap-2"};function A(d,o,n,D,r,a){const c=f("router-link");return s(),t("div",_,[e("div",w,[e("div",b,[e("div",k,[e("div",x,[o[5]||(o[5]=e("h2",{class:"text-center mb-4"},"Log In to PetTracker",-1)),r.loading?(s(),t("div",C,o[1]||(o[1]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),e("p",{class:"mt-2"},"Redirecting to Google login...",-1)]))):(s(),t("div",G,[o[3]||(o[3]=e("p",{class:"text-center text-muted mb-4"}," Sign in with your Google account for secure access to your pet tracking dashboard. ",-1)),(s(),t("div",P,[e("button",{class:"btn btn-primary btn-lg",onClick:o[0]||(o[0]=(...g)=>a.loginWithGoogle&&a.loginWithGoogle(...g))},o[2]||(o[2]=[e("i",{class:"bi bi-google me-2"},null,-1),i(" Log in with Google ")]))])),r.error?(s(),t("div",L,h(r.error),1)):l("",!0),o[4]||(o[4]=e("div",{class:"text-center mt-4"},[e("p",{class:"text-muted"},[e("small",null,[i("Need help? "),e("a",{href:"#"},"Contact Support")])])],-1))]))])]),r.isDevEnvironment?(s(),t("div",U,[e("div",B,[o[7]||(o[7]=e("h5",{class:"card-title"},"Developer Options",-1)),o[8]||(o[8]=e("p",{class:"card-text"}," These options are only available in development mode. ",-1)),e("div",I,[p(c,{to:"/dev-token",class:"btn btn-secondary"},{default:m(()=>o[6]||(o[6]=[i(" Get Development Token ")])),_:1})])])])):l("",!0)])])])}const R=u(y,[["render",A]]);export{R as default};
