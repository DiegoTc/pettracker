import{_ as p,b as t,a as e,m as f,d as a,f as l,t as d,i as h,w as v,r as m,q as k,o as i}from"./index-B6tcRC6e.js";const b={data(){return{isDevEnvironment:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",loading:!1,error:null,googleConfigured:!0,apiBaseUrl:"http://localhost:5000"}},async created(){const o=new URLSearchParams(window.location.search).get("error");o&&(this.error=decodeURIComponent(o));try{console.log("Making API request to get login info");const n=await k.getLoginInfo();this.googleConfigured=n.data.googleConfigured,this.googleConfigured?console.log("Google OAuth is properly configured"):this.error="Google authentication is not configured. Please contact the administrator."}catch(n){console.error("Failed to check Google OAuth configuration:",n),this.googleConfigured=!0}},methods:{async loginWithGoogle(){if(!this.googleConfigured){this.error="Google authentication is not configured. Please contact the administrator.";return}this.loading=!0,this.error=null,console.log(`Using API base URL for login: ${this.apiBaseUrl}`),window.location.href=`${this.apiBaseUrl}/api/auth/login`}}},w={class:"login-container"},y={class:"login-wrapper"},C={class:"login-card"},G={key:0,class:"loading-container"},_={key:1,class:"login-content"},P={class:"login-button-container"},x={key:0,class:"login-error"},I={key:0,class:"dev-options"},U={class:"login-footer"};function A(g,o,n,B,s,r){const c=m("router-link");return i(),t("div",w,[e("div",y,[o[10]||(o[10]=f('<div class="login-header" data-v-a510cef7><div class="app-logo" data-v-a510cef7><i class="bi bi-heart-fill" data-v-a510cef7></i></div><h1 class="app-name" data-v-a510cef7>PetTracker</h1><p class="app-description" data-v-a510cef7>Your pet&#39;s safety, simplified.</p></div>',1)),e("div",C,[o[6]||(o[6]=e("h2",{class:"login-title"},"Sign In",-1)),s.loading?(i(),t("div",G,o[1]||(o[1]=[e("div",{class:"spinner-border",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),e("p",{class:"loading-text"},"Redirecting to Google login...",-1)]))):(i(),t("div",_,[o[4]||(o[4]=e("p",{class:"login-description"}," Sign in with your Google account for secure access to your pet tracking dashboard. ",-1)),e("div",P,[e("button",{class:"login-button google-button",onClick:o[0]||(o[0]=(...u)=>r.loginWithGoogle&&r.loginWithGoogle(...u))},o[2]||(o[2]=[e("i",{class:"bi bi-google"},null,-1),l(" Continue with Google ")]))]),s.error?(i(),t("div",x,[o[3]||(o[3]=e("i",{class:"bi bi-exclamation-triangle"},null,-1)),e("span",null,d(s.error),1)])):a("",!0),o[5]||(o[5]=e("div",{class:"help-link"},[e("p",null,[l("Need help? "),e("a",{href:"#"},"Contact Support")])],-1))]))]),s.isDevEnvironment?(i(),t("div",I,[o[8]||(o[8]=e("h3",null,"Developer Options",-1)),o[9]||(o[9]=e("p",null,"These options are only available in development mode.",-1)),h(c,{to:"/dev-token",class:"dev-button"},{default:v(()=>o[7]||(o[7]=[l(" Get Development Token ")])),_:1})])):a("",!0),e("div",U,[e("p",null,"Â© "+d(new Date().getFullYear())+" PetTracker. All rights reserved.",1)])])])}const N=p(b,[["render",A],["__scopeId","data-v-a510cef7"]]);export{N as default};
